# 技术栈选型文档 (Tech Stack)

## 1. 简介

本文档详细说明了企业级SaaS管理信息系统平台选择的技术栈、具体版本以及选型理由。技术栈的选择旨在满足项目的功能需求、非功能需求，并考虑开发效率、社区支持、团队熟悉度和未来可扩展性。

## 2. 核心技术栈

| 类别         | 技术选型                               | 版本/规范        | 选型理由                                                                                                                                                             |
| :----------- | :------------------------------------- | :--------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **前端框架** | Vue.js                                 | ^3.3.x           | 渐进式框架，性能优越，组合式API提升开发体验和代码组织能力。社区活跃，生态丰富。Pure Admin模板基于Vue 3。                                                                     |
| **UI组件库** | Element Plus                           | ^2.4.x           | Vue 3的组件库，提供丰富高质量的UI组件，与Pure Admin深度集成，加速开发。设计风格现代，符合企业级应用需求。                                                                    |
| **前端语言** | TypeScript                             | ^5.x.x           | JavaScript的超集，提供静态类型检查，增强代码可维护性、可读性和健壮性，减少运行时错误，特别适合大型复杂项目。Pure Admin模板支持TypeScript。                                                |
| **前端构建** | Vite                                   | ^5.0.x           | 下一代前端构建工具，极速的冷启动和热更新 (HMR)，显著提升开发体验。基于ESM，按需编译。Pure Admin模板使用Vite。                                                                       |
| **状态管理** | Pinia                                  | ^2.1.x           | Vue官方推荐的状态管理库 (Vuex的继任者)，轻量、类型安全、模块化设计简洁直观，与Vue 3组合式API完美配合。Pure Admin模板集成Pinia。                                                              |
| **路由管理** | Vue Router                             | ^4.2.x           | Vue官方路由管理器，与Vue.js深度集成，功能强大且灵活，支持动态路由、嵌套路由、导航守卫等。Pure Admin模板集成Vue Router。                                                                |
| **CSS方案**  | SCSS/Sass                              | 最新稳定版       | 成熟的CSS预处理器，提供变量、嵌套、混合等特性，增强CSS的可维护性和可复用性。Pure Admin模板支持SCSS。                                                                                  |
| **HTTP客户端**| Axios (或 Supabase JS Client 内置)     | ^1.6.x (若单独用) | 成熟的Promise基础的HTTP客户端，广泛应用于Vue项目。Supabase JS Client已内置fetch功能，多数情况可直接使用其进行API交互，简化依赖。若有复杂请求场景，可考虑引入Axios。                         |
| **代码规范** | ESLint, Prettier, Stylelint            | 最新稳定版       | ESLint用于JavaScript/TypeScript代码检查，Prettier用于代码格式化，Stylelint用于CSS/SCSS检查。保证代码风格统一，提升代码质量。Pure Admin模板已集成基础配置。                                        |
| **包管理**   | npm (或 pnpm/yarn, 与Pure Admin一致)   | >=9.0.0 (npm)    | Node.js的默认包管理器。Pure Admin模板通常使用npm或yarn，建议保持一致性。pnpm因其高效的磁盘空间利用和安装速度也值得考虑。                                                               |
| **版本控制** | Git                                    | 最新稳定版       | 分布式版本控制系统，业界标准，用于代码协作和版本管理。                                                                                                                                 |

## 3. 后端技术栈 (Supabase Platform)

| 类别             | 技术选型                               | 版本/规范         | 选型理由                                                                                                                                                              |
| :--------------- | :------------------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **后端即服务**   | Supabase                               | 平台持续更新      | 开源的Firebase替代品，提供数据库(PostgreSQL)、认证、对象存储、边缘函数等一体化服务。极大简化后端开发和运维，加速产品迭代。符合PRD中的技术约束。                                                  |
| **数据库**       | PostgreSQL (由Supabase管理)            | 通常为最新稳定版  | 功能强大、可靠的开源关系型数据库。Supabase基于PostgreSQL构建，提供SQL访问和行级安全(RLS)等高级特性，非常适合多租户SaaS应用。                                                               |
| **用户认证**     | Supabase Auth                          | 平台持续更新      | 内置用户认证和授权服务，支持邮件/密码、社交登录、Magic Links等。提供JWT管理，易于与前端集成。                                                                                             |
| **对象存储**     | Supabase Storage                       | 平台持续更新      | 用于存储用户上传的文件，如图片、文档等。提供文件管理API，支持设置访问权限，可集成CDN。                                                                                                      |
| **服务端逻辑**   | Supabase Edge Functions (Deno Runtime) | 平台持续更新      | 基于Deno运行时，允许部署JavaScript/TypeScript编写的服务端函数。可用于处理复杂业务逻辑、与第三方API集成、执行定时任务等，而无需管理服务器。                                                              |
| **数据库迁移**   | Supabase CLI / DB Migrations           | Supabase CLI最新版 | Supabase提供数据库迁移工具，允许通过SQL文件管理数据库模式的变更，支持版本控制，确保不同环境数据库结构的一致性。                                                                                   |
| **实时功能**     | Supabase Realtime                      | 平台持续更新      | 允许监听数据库变更并通过WebSocket将更新实时推送给客户端，可用于实现聊天、实时通知等功能。                                                                                                   |

## 4. 开发与运维

| 类别             | 技术选型                                   | 版本/规范    | 选型理由                                                                                                |
| :--------------- | :----------------------------------------- | :----------- | :------------------------------------------------------------------------------------------------------ |
| **开发环境**     | Node.js                                    | >=18.0.0     | JavaScript运行时环境，前端开发必备。选择LTS版本以保证稳定性和长期支持。                                         |
| **容器化**       | Docker, Docker Compose (可选，用于本地开发) | 最新稳定版   | `epic1.md` 中已包含Docker配置，用于标准化和隔离本地开发环境，简化环境搭建和依赖管理。                                |
| **CI/CD**        | GitHub Actions / GitLab CI / Jenkins (待定)  |  待定        | 自动化构建、测试和部署流程，提高交付效率和质量。具体工具选型需根据团队偏好和项目需求确定。                      |
| **静态资源托管** | Supabase Storage / Vercel / Netlify (待定) |  待定        | 前端构建后的静态资源需要托管。Supabase Storage可直接用于托管，Vercel/Netlify提供更强大的静态站点托管和CDN功能。 |

## 5. 技术选型原则

- **满足需求:** 技术必须能够满足PRD中定义的功能性和非功能性需求。
- **成熟稳定:** 优先选择经过验证的、社区活跃、有长期支持的技术。
- **开发效率:** 选择能够提高开发效率、减少重复工作的工具和框架。
- **团队技能:** 考虑团队现有技术栈和学习曲线。
- **可扩展性与可维护性:** 架构和技术选型应支持未来的扩展和方便的维护。
- **成本效益:** 在满足需求的前提下，考虑技术的获取成本和运维成本。
- **遵循约束:** 严格遵循`prd.md`中定义的技术约束 (Vue3, TypeScript, Supabase)。

## 6. 待评估或未来可能引入的技术

- **全文搜索:** 如果Supabase内置的PostgreSQL搜索功能无法满足复杂需求，可能考虑集成如Meilisearch, Typesense或Algolia等专用搜索引擎。
- **高级分析/BI:** 对于复杂的数据分析和报表需求，未来可能集成专门的BI工具。
- **测试框架细化:** 如Cypress用于E2E测试，Playwright等。
- **微服务网关:** 如果未来系统演化为更复杂的微服务架构，可能需要引入API网关如Kong, Traefik。

本文档将随着项目的进展和需求的变化而更新。 